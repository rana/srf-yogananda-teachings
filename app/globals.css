@import "tailwindcss";

/* ── Self-hosted fonts — M2a-19 (ADR-099) ─────────────────────── */
/* Zero requests to fonts.googleapis.com (German GDPR compliance) */

/* Merriweather — primary reading font */
@font-face {
  font-family: "Merriweather";
  font-style: normal;
  font-weight: 300;
  font-display: swap;
  src:
    url("/fonts/merriweather-latin-ext-300-normal.woff2") format("woff2"),
    url("/fonts/merriweather-latin-300-normal.woff2") format("woff2");
  unicode-range: U+0000-024F, U+0259, U+1E00-1EFF, U+2000-206F, U+2070-209F, U+20A0-20CF, U+2100-214F, U+2150-218F, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: "Merriweather";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src:
    url("/fonts/merriweather-latin-ext-400-normal.woff2") format("woff2"),
    url("/fonts/merriweather-latin-400-normal.woff2") format("woff2");
  unicode-range: U+0000-024F, U+0259, U+1E00-1EFF, U+2000-206F, U+2070-209F, U+20A0-20CF, U+2100-214F, U+2150-218F, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: "Merriweather";
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url("/fonts/merriweather-latin-400-italic.woff2") format("woff2");
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: "Merriweather";
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src:
    url("/fonts/merriweather-latin-ext-700-normal.woff2") format("woff2"),
    url("/fonts/merriweather-latin-700-normal.woff2") format("woff2");
  unicode-range: U+0000-024F, U+0259, U+1E00-1EFF, U+2000-206F, U+2070-209F, U+20A0-20CF, U+2100-214F, U+2150-218F, U+2C60-2C7F, U+A720-A7FF;
}

/* Lora — display/heading accent font */
@font-face {
  font-family: "Lora";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src:
    url("/fonts/lora-latin-ext-400-normal.woff2") format("woff2"),
    url("/fonts/lora-latin-400-normal.woff2") format("woff2");
  unicode-range: U+0000-024F, U+0259, U+1E00-1EFF, U+2000-206F, U+2070-209F, U+20A0-20CF, U+2100-214F, U+2150-218F, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: "Lora";
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url("/fonts/lora-latin-400-italic.woff2") format("woff2");
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: "Lora";
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url("/fonts/lora-latin-700-normal.woff2") format("woff2");
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* Open Sans — UI/system font */
@font-face {
  font-family: "Open Sans";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src:
    url("/fonts/open-sans-latin-ext-400-normal.woff2") format("woff2"),
    url("/fonts/open-sans-latin-400-normal.woff2") format("woff2");
  unicode-range: U+0000-024F, U+0259, U+1E00-1EFF, U+2000-206F, U+2070-209F, U+20A0-20CF, U+2100-214F, U+2150-218F, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: "Open Sans";
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url("/fonts/open-sans-latin-600-normal.woff2") format("woff2");
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* ── Tailwind theme configuration ──────────────────────────────── */
@theme {
  --font-serif: "Merriweather", "Lora", Georgia, "Times New Roman", serif;
  --font-sans: "Open Sans", system-ui, -apple-system, sans-serif;
  --font-display: "Lora", "Merriweather", Georgia, serif;

  --color-srf-gold: #dcbd23;
  --color-srf-navy: #1a2744;
  --color-warm-cream: #FAF8F5;
  --color-warm-cream-dark: #f0ece4;
}

/* ── Base styles ───────────────────────────────────────────────── */
body {
  font-family: var(--font-serif);
  color: var(--color-srf-navy);
  background-color: var(--color-warm-cream);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ── Focus indicators — M2a-8 (ADR-003) ───────────────────────── */
:focus-visible {
  outline: 2px solid var(--color-srf-gold);
  outline-offset: 2px;
}

/* ── Text-only mode — M1c-13 (ADR-006 §1) ─────────────────────── */
.text-only img,
.text-only svg:not([role="img"]),
.text-only [data-decorative] {
  display: none !important;
}
.text-only * {
  font-family: Georgia, "Times New Roman", serif !important;
  background-image: none !important;
}

/* ── Screen reader only utility ────────────────────────────────── */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ── Print stylesheet — M2a-10 ─────────────────────────────────── */
@media print {
  header, footer, nav,
  [data-no-print],
  .low-bandwidth-banner {
    display: none !important;
  }

  body {
    background: white !important;
    color: black !important;
    font-size: 11pt !important;
    line-height: 1.6 !important;
  }

  main {
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  article {
    max-width: 42em !important;
    margin: 0 auto !important;
  }

  a {
    color: black !important;
    text-decoration: none !important;
  }

  /* Show citation URLs in print */
  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 9pt;
    color: #666;
  }

  /* Internal links don't need URL display */
  a[href^="/"]::after {
    content: none;
  }

  blockquote {
    border-inline-start: 2px solid #999;
    padding-inline-start: 1em;
    margin-inline-start: 0;
  }

  /* Page breaks between chapters */
  .chapter-break {
    page-break-before: always;
  }

  /* Footer citation */
  .print-citation {
    display: block !important;
    margin-top: 2em;
    padding-top: 1em;
    border-top: 1px solid #ccc;
    font-size: 9pt;
    color: #666;
  }
}

/* Hide print-only elements on screen */
.print-citation {
  display: none;
}

/* ── Reduced motion — M2a-8 (ADR-003) ─────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
