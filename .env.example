# SRF Online Teachings Portal — Environment Variables
# Copy to .env.local for local development.
# In deployed environments, Terraform outputs and Vercel secrets populate these.
#
# Tag legend:
#   [terraform] = set by Terraform output in deployed environments; fill manually for local dev
#   [secret]    = set manually everywhere; never in Terraform state
#   [static]    = fixed value; same across all environments
#
# See also:
#   docs/bootstrap-credentials.md   — account provisioning checklist
#   DESIGN-arc1.md § DES-039        — full environment configuration spec
#   /lib/config.ts                  — named constants (not env vars)

# ── Neon PostgreSQL ─────────────────────────────────────────────
NEON_DATABASE_URL=               # [terraform] Pooled connection string (serverless functions)
NEON_DATABASE_URL_DIRECT=        # [terraform] Direct connection string (dbmate migrations, scripts)
NEON_PROJECT_ID=                 # [terraform] Neon project ID for API calls

# ── Neon API (operations — branch creation, snapshots, schema diffs) ──
NEON_API_KEY=                    # [secret] Project-scoped API key for dev operations (ADR-124 § API Key Scoping)

# ── AWS (Bedrock inference from Vercel) ─────────────────────────
AWS_REGION=us-west-2             # [static] Bedrock, Lambda, S3
AWS_ACCESS_KEY_ID=               # [terraform] IAM user: portal-app-bedrock (Bedrock inference only)
AWS_SECRET_ACCESS_KEY=           # [terraform] Paired with above — keys in encrypted S3 state

# ── AI ──────────────────────────────────────────────────────────
VOYAGE_API_KEY=                  # [secret] Voyage voyage-3-large embeddings (ADR-118)

# ── Contentful ──────────────────────────────────────────────────
CONTENTFUL_SPACE_ID=             # [terraform] Space identifier
CONTENTFUL_ACCESS_TOKEN=         # [secret] Delivery API (read-only)
CONTENTFUL_MANAGEMENT_TOKEN=     # [secret] Management API — ingestion scripts only, not deployed

# ── Observability ───────────────────────────────────────────────
NEXT_PUBLIC_SENTRY_DSN=          # [terraform] Sentry error tracking (bundled into client JS)
SENTRY_AUTH_TOKEN=               # [secret] Source map uploads (CI only in deployed envs)

# ── Future milestones (uncomment when needed) ───────────────────
# COHERE_API_KEY=                # [secret] Milestone 2b+ — Rerank 3.5 (ADR-119)
# YOUTUBE_API_KEY=               # [secret] Arc 2+ — video integration
# SENDGRID_API_KEY=              # [secret] Milestone 5a — email (see PRO-015)
# NEXT_PUBLIC_AMPLITUDE_KEY=     # [terraform] Milestone 3d — analytics
# NEW_RELIC_LICENSE_KEY=         # [secret] Milestone 3d — observability
# AUTH0_SECRET=                  # [secret] Milestone 7a+ — authentication (if ever)
# AUTH0_BASE_URL=                # [terraform] Milestone 7a+
# AUTH0_ISSUER_BASE_URL=         # [terraform] Milestone 7a+
# AUTH0_CLIENT_ID=               # [terraform] Milestone 7a+
# AUTH0_CLIENT_SECRET=           # [secret] Milestone 7a+
