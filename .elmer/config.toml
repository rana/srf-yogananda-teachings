[defaults]
archetype = "explore-act"
model = "opus"
max_turns = 50
generate_prompt = false
# budget_usd = 2.00           # optional per-exploration budget cap

[generate]
count = 5
model = "sonnet"
max_turns = 5
# budget_usd = 10.00          # optional total budget for generate command

[auto_approve]
model = "sonnet"
max_turns = 3
criteria = "document-only proposals with no code changes"
max_files_changed = 10
require_proposal = true

[archetype_selection]
model = "sonnet"
max_turns = 3

[followup]
enabled = false
count = 3
model = "sonnet"
auto_approve = false

[daemon]
interval = 600                  # seconds between cycles
auto_approve = false
auto_generate = false
auto_archetype = false            # AI selects archetype for generated topics
# budget_per_cycle = 5.00       # optional cost cap per cycle (USD)
max_concurrent = 5
generate_threshold = 2          # generate new topics when active < threshold
generate_count = 5

[insights]
enabled = false                 # extract insights after approval
model = "sonnet"
max_turns = 3
inject = true                   # inject cross-project insights into prompts
inject_limit = 5                # max insights to inject per exploration

[ensemble]
synthesis_model = "opus"
synthesis_max_turns = 15
# default_replicas = 3          # default replica count for --replicas
# default_archetypes = ["explore", "devil-advocate", "dead-end-analysis"]

[digest]
model = "sonnet"
max_turns = 5
threshold = 5                   # approvals since last digest before synthesizing
# daemon auto-triggers digest when approvals >= threshold

[questions]
model = "sonnet"
max_turns = 5

[invariants]
model = "sonnet"
max_turns = 5
# rules = [                          # custom invariant rules (optional)
#   "ADR count in CLAUDE.md matches DECISIONS.md entries",
#   "Phase status in ROADMAP.md matches CLAUDE.md",
# ]

[audit]
enabled = false                       # enable audit scheduling in daemon
auto_approve = true                   # auto-review audit explorations
model = "sonnet"
max_turns = 50
# schedule: "archetype:topic" pairs, one per daemon cycle, rotating
# schedule = [
#   "consistency-audit:data model",
#   "consistency-audit:CLI interface",
#   "coherence-audit:",
#   "architecture-audit:state management",
#   "documentation-audit:",
#   "opportunity-scan:",
# ]

[verification]
# on_done = "pnpm build && pnpm test"  # enable after step 0 scaffolds build system
max_retries = 2

[implement]
model = "opus"
decompose_model = "opus"
decompose_max_turns = 30
max_turns = 50
# budget_usd = 100.00           # total budget across all plan steps

# Per-million-token rates (USD) for cost estimation.
# Used only when claude CLI does not report actual cost.
[costs.rates]
haiku_input = 0.25
haiku_output = 1.25
sonnet_input = 3.00
sonnet_output = 15.00
opus_input = 15.00
opus_output = 75.00
